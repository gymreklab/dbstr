sqlite3 /storage/resources/source/exac/exac_data/dbSTR.db

.header on
.mode column
select id,seqid,features.start,features.end,strand,str.start,str.end,str.period,str.length from
strloc str,
features,
(select min(start) start, max(end) end
from features
where attributes like "%MMP9%" and featuretype = "gene" and seqid = "chr20") minmaxstart,
(select distinct strid
from strloc str
where
str.chrom = "chr20" ) strs
-- and str.start >= minmaxstart.start
-- and str.end <= minmaxstart.end) strs
where strs.strid = str.strid
and str.chrom =  "chr20"
and str.start >= minmaxstart.start
and str.end   <= minmaxstart.end
and attributes like "%MMP9%" and featuretype = "gene" and seqid = "chr20"
group by id,seqid,features.start,features.end,strand,str.strid;


